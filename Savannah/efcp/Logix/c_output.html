<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>	<title>C-formatted Output</title></head><body><h1><center>C-formatted Output</center></h1>The service c_output provides methods for using the <b>C</b> function <b>sprintf</b> to convert constants to strings.  It provides single specification output conversion interface, supportingall <b>sprintf</b> capabilities, except for '<b>p</b>' conversion, '<b>n</b>' reflection and '<b>*</b>' reference (see:   <a href="http://www.acm.uiuc.edu/webmonkeys/book/c_guide/2.12.html#printf">   Webmonkeys c_guide: sprintf function</a> for details).<p>The input is a &lt;specification&gt;, whose BNF is: <pre> &lt;specification&gt; ::= &lt;letter&gt;(&lt;cspec_value&gt;)                     &lt;value&gt; &lt;letter&gt;        ::= c | d | e | E | f | g | G | i | o | s | u | x | X &lt;cspec_value&gt;   ::= &lt;value&gt;                     &lt;cspec&gt; , &lt;value&gt; &lt;cspec&gt;         ::= &lt;parameters&gt;                     "&lt;flags&gt;"                     "&lt;flags&gt;" , &lt;parameters&gt; &lt;parameters&gt;    ::= &lt;integer&gt;                     &lt;integer&gt; , &lt;integer&gt; &lt;flag&gt;          ::= - | + | &lt;space&gt; | 0 | # &lt;flags&gt;         ::= &lt;flag&gt;                     &lt;flag&gt; &lt;flags&gt; &lt;value&gt;         ::= &lt;number&gt;                     &lt;string&gt;</pre></p>Four entries are provided:<ol><li>c_output#prepare(&lt;specification&gt;, &lt;format_string&gt;, &lt;value&gt;)<p>   transforms &lt;specification&gt; into output &lt;format_string&gt; and &lt;value&gt;.   <br><br>   Note that the input &lt;value&gt; may be converted to an output &lt;value&gt; so as to be    consistent with the &lt;specification&gt; &lt;letter&gt;.  Errors are displayed.</p>   <i>e.g.</i><pre>    @X = 776    @c_output#prepare("E"("+", 10, 20, X?), Format^, Value^)</pre>produces output:<pre>    Value = 776.0    Format = %+10.20E</pre></li><li> c_output#prepare(&lt;specification&gt;, &lt;format_string&gt;, &lt;value&gt;, &lt;errors&gt;)<p>   is just like 1, except that &lt;errors&gt; is a (possibly empty) stream of diagnostics.</p></li><li> c_output#sprint(&lt;specification&gt;, &lt;formatted_output&gt;)   where &lt;formatted_output&gt; is the formatted (possibly converted) &lt;value&gt;.    In case of error, a stream  of diagnostics is displayed.<p>   <i>e.g.</i><pre>    @X = 1234567.89    @c_output#sprint('G'('+', 10, 5, X?), FO^)</pre>   produces output:<pre>    @FO = +1.2346E+06</pre></p></li><li>c_output#sprint_list(&lt;specification_list&gt;, &lt;formatted_output_list&gt;, &lt;errors_list&gt;)<p>   where lt;specification_list&gt; is a (square-bracketed) list of &lt;specification&gt;,   <br>   &lt;formatted_output_list&gt is the corresponfing list of &lt;formatted_output&gt;, and   <br>   &lt;errors_list&gt; is the correspoding list of &lt;errors&gt;.</p></li></ol><p>Possible items in the &lt;errors&gt; stream are largely self-explanatory:<ul>   <li><pre>unrecognised_specification</pre></li>   <li><pre>unrecognised_flag(&lt;character&gt;)</pre></li>   <li><pre>invalid_parameter(&lt;term&gt;)</pre></li>   <li><pre>cannot_convert(&lt;term&gt;(&lt;term&gt;))</pre></li></ul></p>   <br><br><p>This document is licensed under: <a href="../gnu-gpl3.html" name="License">Gnu General Public License - Version 3</a></p></body></html>